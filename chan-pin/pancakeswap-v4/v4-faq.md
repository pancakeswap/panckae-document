---
description: 我们了解您可能对我们的最新升级有疑问。我们总结了这份全面的常见问题解答，以解答您的所有疑问。让我们深入了解：
---

# v4 FAQ

**问题 1：PancakeSwap v4 如何使交易者和流动性提供者受益？**\


**答:**PancakeSwap v4 为交易者和流动性提供者带来很多好处：

**1.** **简化操作和节省 gas：** 通过 Singleton 和 Flash Accounting 等功能，PancakeSwap v4 大幅降低了 gas 费用。Singleton 将所有资金池合并为单个合约，将部署成本降低了 99%。Flash Accounting 通过计算交易的净余额来优化计算流程，从而最大限度地减少 gas 消耗。

**2.** **从先进的优势中直接受益：** Hooks 的集成允许实施动态费用、自定义订单类型和有效的流动性管理模块。流动性提供商可享受减少无常损失 (IL)、MEV 保护和各种费用等级，确保更多潜在的收益和更安全的交易体验。

**3.** **AMM 设计的灵活性：** PancakeSwap v4 支持多种资金池类型，包括 CLAMM 和 LBAMM，允许交易者和 LP 选择不同的资金池类型。这种更加包容性的方式还允许支持未来任何需要新的定价曲线的资产。查看[此博客](https://blog.pancakeswap.finance/articles/everything-you-need-to-know-about-pancake-swap-v4-what-s-in-it-for-developers-traders-liquidity-providers-and-defi-protocols)了解更多信息。

<figure><img src="../../.gitbook/assets/image (389).png" alt=""><figcaption></figcaption></figure>

**问题 2：** PancakeSwap v4 如何使开发人员和 DeFi 协议受益？

**答案：**PancakeSwap v4 为开发者和 DeFi 协议开辟了一个充满可能性的世界。

**1.** **无限的定制可能性：** 有了 PancakeSwap v4，开发者就可以构建 Hooks 来引入自定义功能；从动态费用到链上限价订单和自定义交易规则。PancakeSwap v4 支持部署新的资金池类型（CLAMM、LBAMM 以及未来可能的其他资金池类型），从而提高资金效率和交易灵活性。

**2.** **强大的流动性和用户基础：** 凭借超过 180 万的活跃用户和 21 亿美元的流动性，开发人员和 DeFi 协议拥有独一无二的机会，能够利用庞大而有效的社区，促进产品的开发和采用。

**3.** **创收机会：** 开发者可以通过 Hooks 收费建立稳定的收入流，允许他们为开发的 Hooks 设定收费标准。开发者通过他们的创新开辟收入流，从而可以更好地为 PancakeSwap 生态系统的增长和发展做出贡献。查看[此博客](https://blog.pancakeswap.finance/articles/everything-you-need-to-know-about-pancake-swap-v4-what-s-in-it-for-developers-traders-liquidity-providers-and-defi-protocols)了解更多信息。



**问题 3：** 什么时候正式推出 PancakeSwap v4？

**答:**面向用户的 PancakeSwap v4 产品暂定于第三季度推出，临近推出时会有进一步的公告。\


**问题 4：** PancakeSwap v4 是否会在所有部署了 PancakeSwap v3 的区块链上部署？

**答案：** 开始阶段 PancakeSwap v4 将在以太坊和 BNB 链上推出，并在之后计划扩展到其他链。\


**问题 5：** 与 v3 相比，PancakeSwap v4 有哪些改进？

**答：**PancakeSwap v4 带来了利用自定义功能增强流动性池功能的能力，而无需重新执行核心协议。它还支持在执行中实施任何定价曲线，并为用户节省大量 gas。



**问题 6：** PancakeSwap v4 的用户界面和用户体验会有什么变化吗？

**回答：** 一旦 v4 在第三季度推出，用户可以通过 PancakeSwap 的兑换页面在 v4 上进行兑换，就像平时的友好体验一样。对于交易者和流动性提供者来说，由于我们支持 CLAMM 和 LBAMM 等多个池，因此将有更多添加流动性的选项，并会在发布时提供详细指导。\


**问题 7：**白皮书发布后，开发者可以立即开始为 PancakeSwap v4 构建 Hooks 吗？

**答:** 开发人员可以在 v4 白皮书发布后立即构建 Hooks。加入我们的开发者社区，分享想法并寻求帮助。[在此](https://www.youtube.com/watch?v=48zgqAdtPJY)了解更多信息



**问题 8：** 社区如何参与 PancakeSwap v4 的测试或提供反馈？

**答案：**如果您是社区成员，请随时通过我们的社交平台[Telegram](https://t.me/PancakeSwapAnn)、[Discord](https://discord.com/channels/897834609272840232/1207724381212770315) 和[Twitter](https://twitter.com/PancakeSwap) 分享您的反馈意见。如果您是开发者，请加入我们的开发者 Discord 社区并分享您的想法。



**问题 9：**用户在哪里可以找到有关 PancakeSwap v4 的更多信息并了解其最新开发进展？

**答:**访问我们的[官方网站](https://pancakeswap.finance/v4?utm\_source=v4announcementblog\&utm\_medium=blog\&utm\_campaign=v4announcementblog\&utm\_id=v4announcementblog)，阅读我们的[白皮书](https://github.com/pancakeswap/pancake-v4-core/blob/main/docs/whitepaper-en.pdf)，在社交媒体上关注我们，了解最新更新和进展。如果您是开发人员，请加入我们的开发人员 Discord 社区。



**问题 10：**PancakeSwap v4 的许可机制是什么？

**答:** PancakeSwap v4 遵循开源原则。我们的代码将以开源许可的方式发布，让开发者能够自由创新。不过，作为我们[联盟提议](https://forum.pancakeswap.finance/t/discussion-on-pancakeswap-affiliates-a-multichain-expansion-strategy/395)的一部分，PancakeSwap 的 DeFi 协议分叉将受到热烈欢迎，并有机会得到 Kitchen 的正式认可。



**问题 11：**PancakeSwap v4 如何降低 gas 费用？

**答:**PancakeSwap v4 利用Singleton 和 Flash Accounting 大幅降低 gas 费用。通过将所有池合并为单个合约（Singleton），简化了多池交易，使其更具成本效益。Flash Accounting 以每次交易结束时集体计算的净余额取代了单笔转账，从而节省了大量 gas 费用。ERC-6909 允许用户将资金保存在协议中，并在需要时使用，省去了从钱包到钱包的转账，从而进一步降低了操作频繁的用户的交易成本。



**问题 12：**在 v4 过渡期间，我还能使用 PancakeSwap 吗？

**回答：**是的，PancakeSwap 在 v4 过渡期间仍可使用，用户体验不会有任何改变。



**问题 13：**什么是 PancakeSwap v4 中的 Hooks，它们如何在 PancakeSwap v4 上实现创新？

**回答：**Hooks 是可定制的附加组件，可增强流动性池功能，允许开发者引入定制功能和费用管理选项。通过外部部署，Hooks 可以在关键的池操作过程中执行预定义的逻辑，可以提供无限的可能性，包括动态费用、订单类型、自定义预言机和有效的流动性管理策略。



**问题 14：**PancakeSwap v4 为开发人员提供了哪些机会？

**答:** 开发者可以建立创新的解决方案，通过 Hooks 的费用获得收入，并将得益于 PancakeSwap 庞大的用户群体和深度流动性。请阅读我们专门为此发布的[博客文章](https://blog.pancakeswap.finance/articles/why-should-developers-build-on-pancake-swap-v4-and-how-to-build-hooks)，了解为什么开发者应该在 PancakeSwap 上进行开发。\


**问题 15：**PancakeSwap v4 支持跨链功能吗？

**回答：**PancakeSwap v4 最初在以太坊主网和 BNB 链上推出，随着时间的推移将扩展到多个链。我们还计划之后支持跨链交易和跨链流动性供应。\


**问题 16：**PancakeSwap v4 对更庞大的 DeFi 生态系统有何贡献？

**答:** PancakeSwap v4旨在解决当前 AMM 的不足之处，增强 DEX 体验，并在我们开源行为的支持下发展成为功能最强大的 DeFi 平台。阅读我们的主厨 Chef Mochi [对 v4 的愿景](https://blog.pancakeswap.finance/articles/chef-mochi-s-vision-for-pancake-swap-v4-a-leap-forward-in-de-fi-innovation)，了解更多信息。



**问题 17：**我们在哪里可以找到 Hooks 模板库？

**回答：** Hooks 的模板可在[https://github.com/pancakeswap/pancake-v4-hooks-template](https://github.com/pancakeswap/pancake-v4-hooks-template)上找到， Hooks 示例可在[https://github.com/pancakeswap/pancake-v4-hooks](https://github.com/pancakeswap/pancake-v4-hooks)上找到。



**问题 18：**能否解释一下 Hooks 的生命周期及其示例？

**回答：**Hooks 可以在初始化、兑换、添加流动资金、移除流动资金和捐赠这 5 个关键操作之前/之后实施。例如，当用户发起兑换时，PoolManager 合约会检查是否有 beforeSwap hook callback 函数存在。如果存在，则执行 Hooks合约中 beforeSwap 方法下的逻辑；否则，兑换照常进行。兑换完成后，afterSwap callback 函数也会执行相同的过程。



**问题 19：**我们是否需要进行 address mining，以确保 Hooks 部署在特定地址？

**答案：**Hooks 可以像其他合约一样部署在任何地址上。callback 权限在 PoolKey 中设置。欲了解更多信息，请点击此处查看关于 Hooks 的**常见问题** [https://developer.pancakeswap.finance/contracts/v4/overview/custom-layer-hook#faqs](https://developer.pancakeswap.finance/contracts/v4/overview/custom-layer-hook#faqs)&#x20;



**问题 20：**我们如何在 etherscan 上验证 Hooks 合约？

**回答：**如果您使用的是 foundry，请参阅此处的 foundry 指南[https://book.getfoundry.sh/reference/forge/forge-verify-contract](https://book.getfoundry.sh/reference/forge/forge-verify-contract)；如果您使用的是 hardhat，请参阅此处的 hard 指南[https://hardhat.org/hardhat-runner/docs/guides/verifying](https://hardhat.org/hardhat-runner/docs/guides/verifying)&#x20;



**问题 21：**我们应该使用 foundry 还是 hardhat 进行 Hooks 开发？

**答：**模板[https://github.com/pancakeswap/pancake-v4-hooks-template](https://github.com/pancakeswap/pancake-v4-hooks-template)基于 foundry；因此，我们建议使用 foundry。此外，foundry 也越来越受欢迎！\


**问题 22：**什么是 pool keys？

**答案：**PoolKey 是描述每个池的结构。更多信息请参见[https://developer.pancakeswap.finance/contracts/v4/overview/amm-layer-poolmanager#poolkey--poolid](https://developer.pancakeswap.finance/contracts/v4/overview/amm-layer-poolmanager#poolkey--poolid)

PancakeSwap v4 是 DeFi 领域的一个重要里程碑，为交易者、开发者、流动性提供商和更广大的社区提供了无与伦比的优势。我们很高兴能与您一起踏上这段旅程，并期待与您共同打造 DeFi 的未来。如果您有任何其他问题，请随时通过[（Twitter](https://twitter.com/PancakeSwap)、[Discord](https://discord.com/channels/897834609272840232/1207724381212770315) 和[Telegram](https://t.me/PancakeSwap)）联系我们或查看我们的开发[文档](https://developer.pancakeswap.finance)。
